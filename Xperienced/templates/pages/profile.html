{% extends "base.html" %}

{% load static %}
{% block content %}
<body>
  <div class="profile ">
    <div class="main-body">
      <div class="card card-profile">
        <div class="card-body">
          <div class="d-flex flex-column align-items-center text-center">
            {% if profile.image and user.id == profile.id %}
              <img src="{{  profile.image.url }}" alt=" {{ profile.first_name }} {{ user.last_name }}" class="rounded-circle">
              <di9v class="file btn btn-lg btn-primary">
                Change Photo
                <input type="file" id="image" name="image">
              </di9v>
              <form class="form-image" id="form-image" method="post" enctype="multipart/form-data">
                  {% csrf_token %}
                  <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
                  {{ form.as_p }}
                  <button class="btn btn-primary profile-button" type="submit">Save Image</button>
              </form>
              
            {% else %}
              <img src="{{  profile.image.url }}" alt="Default Image" class="rounded-circle">
            {% endif %}

            <div class="mt-3">
              <h5> {{ profile.first_name }} {{ profile.last_name }}</h5>
              <div class="skils">
                <i class="fa-solid fa-user text-secondary mb-1"></i>
                <p class="text-secondary mb-1">Full Stack Developer</p>
              </div>
            </div>

          </div>

          </div>
          <ul class="nav nav-tabs toggle-nav " id="myTab" role="tablist">
            {% if user.is_authenticated and user.id == profile.id %}

            <li class="nav-item">
              <a class="nav-link" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="false">
                <i class="fa-solid fa-user text-secondary mb-1"></i>
                Prfileo
              </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="profile-tab" data-toggle="tab" href="#Rate" role="tab" aria-controls="profile" aria-selected="false">
                  <i class="fa-solid fa-star text-secondary mb-1"></i>
                  Rate
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" id="profile-tab" data-toggle="tab" href="#editprofile" role="tab" aria-controls="editprofile" aria-selected="true">
                  <i class="fa-solid fa-user-pen text-secondary mb-1"></i>
                  Edit Profile
                </a>
            </li>
            {% else %}
            <li class="nav-item">
              <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="false">
                <i class="fa-solid fa-user text-secondary mb-1"></i>
                Prfileo
              </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="profile-tab" data-toggle="tab" href="#Rate" role="tab" aria-controls="profile" aria-selected="false">
                  <i class="fa-solid fa-star text-secondary mb-1"></i>
                  Rate
                </a>
            </li>
            {% endif %}
          </ul>
        </li>
      </div>
      <div class="roww">
          {% if user.is_authenticated and user.id == profile.id %}
          <div class="tab-content profile-tab" id="myTabContent">
            <div class="tab-pane fade " id="home" role="tabpanel" aria-labelledby="home-tab">
              <div class="card ">
                <div class="card-body">
                  <div class="card-head">
                    <h5 class="text-head">Aboat Me</h5>
                    <hr>
                  </div>
                  <div class="card-content">{{ profile.description }}</div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade right-row  " id="Rate" role="tabpanel" aria-labelledby="profile-tab">
              <div class="card">
                <div class="card-body">
                  <div class="card-head">
                    <h5 class="text-head">Ratings</h5>
                    <hr>
                  </div>
                  <div class="card-content">
                    <div class="review--factors_container">
                      <div class="pdn--bs clearfix">
                        <div class="pull-right ">
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i>
                            
                        </div>
                        <div class="pull-left text-meta">
                          Professionalism in dealing
                        </div>
                        </div>
  
                        <div class="pdn--bs clearfix">
                          <div class="pull-right ">
                            <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                            <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                            <i class="fa fa-star clr-amber rating-star"></i>
                          </div>
                          <div class="pull-left text-meta">
                              Communication and follow-up
                          </div>
                        </div>
                        <div class="pdn--bs clearfix">
                        <div class="pull-right ">
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i>
                        </div>
                        <div class="pull-left text-meta">
                            Quality of work delivered
                        </div>
                    </div>
                      <div class="pdn--bs clearfix">
                        <div class="pull-right ">
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i>
                        </div>
                        <div class="pull-left text-meta">
                            Experience in the project field
                        </div>
                    </div>
                        <div class="pdn--bs clearfix">
                        <div class="pull-right ">
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i>
                        </div>
                        <div class="pull-left text-meta">
                          Delivery on time
                            
                        </div>
                    </div>
                        <div class="pdn--bs clearfix">
                        <div class="pull-right ">
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i>
                        </div>
                        <div class="pull-left text-meta">
  
                            Deal with him again
                        </div>
                    </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card  mt-3 ">
                <div class="card-body">
                  <div class="card-head">
                    <h5 class="text-head">My Skills</h5>
                    <hr>
                  </div>
                  <div class="card-content">
                    <ul class="skills list-tags">
                      {% if skills %}
                          {% for skill in skills %}
                              <li class="list-item skill">
                                  <i class="fa fa-fw fa-tag"></i>
                                  <p class="skill-text">{{ skill.skill }}</p>
                                
                              </li>
                          {% endfor %}
                      {% else %}
                          <li class="list-item">No skills</li>
                      {% endif %}
                  </ul>
                  </div>
                </div>
              </div>
  
            </div>
            <div class="tab-pane fade show active " id="editprofile" role="tabpanel" aria-labelledby="editprofile-tab">
              <!-- edit Profile Details  -->
              <div class="card ">
                <div class="card-body">
                  <div class="card-head">
                    <h5 class="text-head">Profile Details</h5>
                    <hr>
                  </div>
                  <div class="card-content profile-content">   
                      <form id="edit-profile-form" class="form-horizontal" role="form" method="POST">
                        {% csrf_token %}
                        <div class="name">
                            <div class="form-group">
                                <label class="col-lg-3 control-label profile-head" for="firstname">First name:</label>
                                <div class="col-lg-12">
                                    <input class="form-control" type="text" id="firstname" name="first_name" value="{{ profile.first_name }}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-3 control-label profile-head" for="lastname">Last name:</label>
                                <div class="col-lg-12">
                                    <input class="form-control" type="text" id="lastname" name="last_name" value="{{ profile.last_name }}">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label profile-head" for="email">Email:</label>
                            <div class="col-lg-12">
                                <input class="form-control" type="text" id="email" name="email" value="{{ profile.email }}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label profile-head" for="username">Username:</label>
                            <div class="col-lg-12">
                                <input class="form-control" type="text" id="username" name="username" value="{{ profile.username }}">
                            </div>
                        </div>
                        <div class="form-group">
                          <label class="col-md-3 control-label profile-head" for="username">Phone Number:</label>
                          <div class="col-lg-12">
                              <input class="form-control" type="number" id="phone" name="username" value="{{ profile.phone }}">
                          </div>
                      </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label profile-head"></label>
                            <div class="col-lg-12">
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                                <a href="{% url 'profile' request.user.id %}" class="btn btn-default">Cancel</a>
                            </div>
                        </div>
                      </form>
                  </div>
                </div>
              </div>
              <!-- About  -->
              <div class="card mt-3">
                <div class="card-body">
                  <div class="card-head">
                    <h5 class="text-head">Aboat Me</h5>
                    <hr>
                  </div>
                  <div class="card-content">
                    <form id="edit-about-form" class="form-horizontal" role="form" method="POST">
                      {% csrf_token %}
                      <textarea class="form-control " id="description" name="description" placeholder="Enter a detailed description of your project and attach examples of what you want if possible." rows="3" >{{ profile.description }}</textarea>
                      <div class="form-group">
                          <label class="col-md-3 control-label profile-head"></label>
                          <div class="col-lg-12">
                            <button type="submit" class="btn btn-primary">Save Changes</button>
                            <a href="{% url 'profile' request.user.id %}" class="btn btn-default">Cancel</a>
                          </div>
                      </div>
                    </form>
                    
                  </div>
                </div>
              </div>

              <!-- My Skills  -->
              <div class="card mt-3 ">
                <div class="card-body">
                  <div class="card-head">
                    <h5 class="text-head">My Skills</h5>
                    <hr>
                  </div>
                  <div class="card-content">
                      <div class="addSkills">
                        <form class="form-skills" id="skills-form" action="{% url 'skills' %}" method="post">
                          {% csrf_token %}

                          <h5 for="inputSkills" class="form-label">Add Skills:</h5>
                          <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

                          <input type="text" class="form-control" id="skill-input" placeholder="Skills" required>
                          <button type="button" class="btn btn-outline-primary"  id="add-skill-button">Add</button>
                        </form>
                      </div>
                      <ul class="skills list-tags">
                        {% if skills %}
                            {% for skill in skills %}
                                <li class="list-item skill">
                                    <i class="fa fa-fw fa-tag"></i>
                                    <p class="skill-text">{{ skill.skill }}</p>
                                    <form action="{% url 'delete_skill' skill.id %}" method="POST" class="job_b skill_b">
                                        {% csrf_token %}
                                        <button type="submit" class="btn btn-danger remove-skill-button" data-skill="{{ skill.skill }}">Remove</button>
                                    </form>
                                </li>
                            {% endfor %}
                        {% else %}
                            <li class="list-item">No skills</li>
                        {% endif %}
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% else %}
          <div class="tab-content profile-tab" id="myTabContent">
            <div class="tab-pane fade show active " id="home" role="tabpanel" aria-labelledby="home-tab">
              <div class="card ">
                <div class="card-body">
                  <div class="card-head">
                    <h5 class="text-head">Aboat Me</h5>
                    <hr>
                  </div>
                  <div class="card-content">
                    <h6 class="text-26 ">
                      {{ profile.description }}
                    </h6>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade right-row  " id="Rate" role="tabpanel" aria-labelledby="profile-tab">
              <div class="card">
                <div class="card-body">
                  <div class="card-head">
                    <h5 class="text-head">Ratings</h5>
                    <hr>
                  </div>
                  <div class="card-content">
  
                    <div class="review--factors_container">
                      <div class="pdn--bs clearfix">
                        <div class="pull-right ">
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i>
                            
                        </div>
                        <div class="pull-left text-meta">
                          Professionalism in dealing
                        </div>
                        </div>
  
                        <div class="pdn--bs clearfix">
                          <div class="pull-right ">
                            <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                            <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                            <i class="fa fa-star clr-amber rating-star"></i>
                          </div>
                          <div class="pull-left text-meta">
                              Communication and follow-up
                          </div>
                        </div>
                        <div class="pdn--bs clearfix">
                        <div class="pull-right ">
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i>
                        </div>
                        <div class="pull-left text-meta">
                            Quality of work delivered
                        </div>
                    </div>
                      <div class="pdn--bs clearfix">
                        <div class="pull-right ">
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i>
                        </div>
                        <div class="pull-left text-meta">
                            Experience in the project field
                        </div>
                    </div>
                        <div class="pdn--bs clearfix">
                        <div class="pull-right ">
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i>
                        </div>
                        <div class="pull-left text-meta">
                          Delivery on time
                            
                        </div>
                    </div>
                        <div class="pdn--bs clearfix">
                        <div class="pull-right ">
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i><i class="fa fa-star clr-amber rating-star"></i>
                          <i class="fa fa-star clr-amber rating-star"></i>
                        </div>
                        <div class="pull-left text-meta">
  
                            Deal with him again
                        </div>
                    </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card  mt-3 ">
                <div class="card-body">
                  <div class="card-head">
                    <h5 class="text-head">My Skills</h5>
                    <hr>
                  </div>
                  <div class="card-content">
                    <ul class="skills list-tags">
                      {% if skills %}
                          {% for skill in skills %}
                              <li class="list-item skill">
                                  <i class="fa fa-fw fa-tag"></i>
                                  <p class="skill-text">{{ skill.skill }}</p>
                                
                              </li>
                          {% endfor %}
                      {% else %}
                          <li class="list-item">No skills</li>
                      {% endif %}
                  </ul>
                  </div>
                </div>
              </div>
  
            </div>
          </div>
          {% endif %}
        <div class="column">
          <div class="card  r-box">
            <div class="card-body">
              <div class="card-head">
                <h5 class="text-head">Statistics</h5>
                <hr>
              </div>
              <div class="card-content">
                <div class="c-body">
                  <div class="carda__body">
                    <table class="table table-meta">
                        <tr>
                            <td>
                                <span title="" data-html="true" data-toggle="tooltip" data-original-title="">Employment rate</span>
                            </td>
                            <td>
                                <label class="label ">100.00%</label>
                            </td>
                        </tr>
        
                            <tr>
                                <td><span data-html="true" title="" data-toggle="tooltip">Projects received</span></td>
                                <td>1</td>
                            </tr>
                            <tr>
                              <td>
                                  <span title="" data-html="true" data-toggle="tooltip" data-original-title="">Completed projects</span>
                              </td>
                              <td>
                                  <label class="   ">4</label>
                              </td>
                            </tr>
  
                              <tr>
                                <td>
                                    <span title="" data-html="true" data-toggle="tooltip" data-original-title="">Reemployment rate</span>
                                </td>
                                <td>
                                    <label class="label bl  ">0.00%</label>
                                </td>
                              </tr>
                            </tbody>
                    </table>
                    <hr>
                    
                </div>
                </div>
              </div>
            </div>
            
            
          </div>
          <div class="card r-box mt-2">
            <div class="card-body">
              <div class="card-head">
                <h5 class="text-head">Documentations</h5>
                <hr>
              </div>
              <div class="card-content">
                <table class="table table-meta">
                  <colgroup>
                      <col class="col-xs-6">
                      <col class="col-xs-6">
                  </colgroup>
                  <tbody>
                  <tr>
                      <td>
                        E-mail
                          <i class="fa  text-success fa-check "></i>
                      
                      </td>
                      <td>
                        Phone Number
                          <i class="fa  text-success fa-check "></i>
                      </td>
                  </tr>
                  <tr>
                      <td>
                        Personal Identification
                          <i class="fa  text-success fa-check "></i>
                          
                      </td>
                      
                  </tr>
                              </tbody>
              </table>
              </div>
            </div>
          </div>
        </div>
      </div>
          
    </div>
  </div>
</body>
<script src="{% static 'js/skills.js' %}"></script>
<script src="{% static 'js/editprofile.js' %}"></script>
{% endblock content %}